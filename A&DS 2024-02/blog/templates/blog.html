{% extends "index.html" %}

{% load static %}

{% block content %}

    {% for post in posts %}
    <section class="page-section clearfix" style="margin-bottom: 5rem;">
        <div class="container">
            <article class="row align-items-center mb-4">
                {% if post.image %}
                <div class="col-md-4 mb-3 mb-md-0">
                    <img 
                        class="img-fluid rounded" 
                        src="{{ post.image.url }}" 
                        alt="{{ post.title }}" 
                        style="width: 100%; max-height: 250px; object-fit: cover;">
                </div>
                {% endif %}
                <div class="col-md-8">
                    <h2 class="section-heading mb-3">
                        <span class="section-heading-lower">{{ post.title }}</span>
                    </h2>
                    <p class="mb-3">
                        {{ post.content|truncatewords:30 }} 
                        <a href="{{ post.link }}" class="text-primary">Leer más</a>
                    </p>
                    <p class="text-muted" style="font-size: 0.9rem;">
                        <strong>Autor:</strong> {{ post.author }}
                    </p>
                </div>
            </article>
        </div>
    </section>
    {% endfor %}

    <aside>
        <div class="container my-4">
            <div class="text-center">
                <h3 class="text-success">Categorías:</h3>
                <div class="d-flex flex-wrap justify-content-center mt-3">
                    {% for post in posts %}
                        {% for category in post.categories.all %}
                            <span class="badge bg-secondary text-light m-1" style="font-size: 0.9rem;">
                                {{ category.title }}
                            </span>
                        {% endfor %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </aside>

{% endblock %}
